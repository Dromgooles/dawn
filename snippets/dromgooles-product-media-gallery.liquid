{% comment %}
  CUSTOM: Dromgoole's Product Media Gallery with Placeholder Fallback
  Author: Dromgoole's
  Created: 2024

  This snippet wraps the standard product-media-gallery and provides
  a fallback placeholder image when the product has no media.

  Accepts:
  - product: {Object} Product liquid object (defaults to current product)
  - variant_images: {Array} Product images associated with a variant
  - placeholder_image: {String} URL to placeholder image

  Usage:
  {% render 'dromgooles-product-media-gallery', variant_images: variant_images %}
{% endcomment %}

{%- liquid
  assign placeholder_url = placeholder_image | default: 'https://cdn.shopify.com/s/files/1/0652/2424/5488/files/coming_soon.jpg?v=1765574442'
-%}

{%- if product.media.size > 0 -%}
  {%- comment -%} Product has media - render normal gallery {%- endcomment -%}
  {% render 'product-media-gallery', variant_images: variant_images %}
{%- else -%}
  {%- comment -%} Product has no media - render placeholder {%- endcomment -%}
  <div
    id="MediaGallery-{{ section.id }}"
    class="product__column-sticky dromgooles-placeholder-gallery"
    role="region"
    aria-label="{{ 'products.product.media.gallery_viewer' | t }}"
  >
    <div class="dromgooles-placeholder-media global-media-settings">
      <img
        src="{{ placeholder_url }}"
        alt="{{ 'products.product.media.image_coming_soon' | t | default: 'Image coming soon' }}"
        width="1000"
        height="1000"
        loading="eager"
        class="dromgooles-placeholder-image"
      >
    </div>
  </div>
{%- endif -%}
