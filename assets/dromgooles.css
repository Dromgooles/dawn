/**
 * Dromgoole's Fine Writing Instruments - Custom CSS Overrides
 * 
 * This file contains CSS customizations for Dromgoole's store.
 * It is loaded AFTER Dawn's base.css to override default styles.
 * 
 * Dawn Version: 15.4.1
 * Last Updated: 2025
 * 
 * Organization:
 * 1. CSS Custom Property Extensions
 * 2. Typography Utilities
 * 3. Color Background Utilities
 * 4. Border Radius Utilities
 * 5. Layout & Spacing Utilities
 * 6. Card & Product Grid Customizations
 * 7. Header Enhancements
 * 8. Slider & Carousel Fixes
 * 9. Footer Customizations
 * 10. Component-Specific Overrides
 * 11. Responsive Adjustments
 */

/* MARK: - CSS Custom Property Extensions */

/* ============================================
   1. CSS Custom Property Extensions
   
   Extend Dawn's color scheme with Dromgoole's brand colors.
   These use the modern RGB triplet format for consistency.
   ============================================ */

:root {
  /* Brand accent colors (for use with rgba()) */
  --dromgooles-orange: 192, 96, 20; /* #c06014 */
  --dromgooles-blue: 11, 60, 93; /* #0b3c5d */
  --dromgooles-gray: 209, 209, 209; /* #d1d1d1 */

  /* Direct hex values for border/background shortcuts */
  --dromgooles-orange-hex: #c06014;
  --dromgooles-blue-hex: #0b3c5d;
  --dromgooles-gray-hex: #d1d1d1;
}

/* MARK: - Typography Utilities */

/* ============================================
   2. Typography Utilities
   ============================================ */

/* Heading color override using scheme accent */
.heading-accent-color {
  color: rgb(var(--color-button));
}

/* Text alignment utilities */
.text-left {
  text-align: left !important;
}
.text-center {
  text-align: center !important;
}
.text-right {
  text-align: right !important;
}

/* Medium screen text alignment */
@media screen and (min-width: 750px) and (max-width: 989px) {
  .medium-text-left {
    text-align: left !important;
  }
  .medium-text-center {
    text-align: center !important;
  }
  .medium-text-right {
    text-align: right !important;
  }
}

/* Font weight utilities */
.font-weight-normal {
  font-weight: 400 !important;
}
.font-weight-bold {
  font-weight: 700 !important;
}

/* Title wrapper alignment utilities (for custom sections) */
.title-wrapper--center {
  text-align: center;
}
.title-wrapper--left {
  text-align: left;
}
.title-wrapper--right {
  text-align: right;
}

/* MARK: - Color Background Utilities */

/* ============================================
   3. Color Background Utilities
   
   Product-specific background colors for visual categorization.
   These provide consistent brand-aligned color coding.
   ============================================ */

/* Primary brand backgrounds */
.color-background-orange {
  background-color: var(--dromgooles-orange-hex) !important;
}
.color-background-blue {
  background-color: var(--dromgooles-blue-hex) !important;
}
.color-background-gray {
  background-color: var(--dromgooles-gray-hex) !important;
}

/* Product color backgrounds */
.color-background-black {
  background-color: #000000 !important;
}
.color-background-white {
  background-color: #ffffff !important;
}
.color-background-red {
  background-color: #e53935 !important;
}
.color-background-burgundy {
  background-color: #6d2c3f !important;
}
.color-background-purple {
  background-color: #8e44ad !important;
}
.color-background-pink {
  background-color: #f8bbd9 !important;
}
.color-background-green {
  background-color: #2e7d32 !important;
}
.color-background-darkgreen {
  background-color: #1b5e20 !important;
}
.color-background-teal {
  background-color: #009688 !important;
}
.color-background-turquoise {
  background-color: #40e0d0 !important;
}
.color-background-yellow {
  background-color: #fdd835 !important;
}
.color-background-gold {
  background-color: #d4af37 !important;
}
.color-background-bronze {
  background-color: #cd7f32 !important;
}
.color-background-copper {
  background-color: #b87333 !important;
}
.color-background-brown {
  background-color: #795548 !important;
}
.color-background-tan {
  background-color: #d2b48c !important;
}
.color-background-silver {
  background-color: #c0c0c0 !important;
}
.color-background-chrome {
  background-color: #dbe4eb !important;
}
.color-background-gunmetal {
  background-color: #2c3539 !important;
}
.color-background-rosegold {
  background-color: #b76e79 !important;
}
.color-background-ivory {
  background-color: #fffff0 !important;
}
.color-background-cream {
  background-color: #fffdd0 !important;
}
.color-background-navy {
  background-color: #001f3f !important;
}
.color-background-coral {
  background-color: #ff7f50 !important;
}
.color-background-peach {
  background-color: #ffcba4 !important;
}
.color-background-lavender {
  background-color: #e6e6fa !important;
}
.color-background-mint {
  background-color: #98fb98 !important;
}

/* Transparent/special backgrounds */
.color-background-transparent {
  background-color: transparent !important;
}
.color-background-inherit {
  background-color: inherit !important;
}

/* MARK: - Border Radius Utilities */

/* ============================================
   4. Border Radius Utilities
   ============================================ */

.border-radius-0 {
  border-radius: 0 !important;
}
.border-radius-sm {
  border-radius: 4px !important;
}
.border-radius-md {
  border-radius: 8px !important;
}
.border-radius-lg {
  border-radius: 16px !important;
}
.border-radius-xl {
  border-radius: 24px !important;
}
.border-radius-pill {
  border-radius: 9999px !important;
}
.border-radius-circle {
  border-radius: 50% !important;
}

/* Specific pixel values for legacy support */
.border-radius-10 {
  border-radius: 10px !important;
}
.border-radius-20 {
  border-radius: 20px !important;
}
.border-radius-30 {
  border-radius: 30px !important;
}

/* MARK: - Layout & Spacing Utilities */

/* ============================================
   5. Layout & Spacing Utilities
   ============================================ */

/* Display utilities */
.d-none {
  display: none !important;
}
.d-block {
  display: block !important;
}
.d-flex {
  display: flex !important;
}
.d-grid {
  display: grid !important;
}

/* Flexbox utilities */
.flex-column {
  flex-direction: column !important;
}
.flex-row {
  flex-direction: row !important;
}
.justify-start {
  justify-content: flex-start !important;
}
.justify-center {
  justify-content: center !important;
}
.justify-end {
  justify-content: flex-end !important;
}
.justify-between {
  justify-content: space-between !important;
}
.align-start {
  align-items: flex-start !important;
}
.align-center {
  align-items: center !important;
}
.align-end {
  align-items: flex-end !important;
}

/* Gap utilities */
.gap-0 {
  gap: 0 !important;
}
.gap-1 {
  gap: 0.5rem !important;
}
.gap-2 {
  gap: 1rem !important;
}
.gap-3 {
  gap: 1.5rem !important;
}
.gap-4 {
  gap: 2rem !important;
}

/* Width utilities */
.w-100 {
  width: 100% !important;
}
.w-auto {
  width: auto !important;
}

/* 
  NOTE: Dawn already provides .small-hide, .medium-hide, .large-up-hide
  Do NOT redefine these - it breaks Dawn's responsive image system.
*/

/* MARK: - Card & Product Grid Customizations */

/* ============================================
   6. Card & Product Grid Customizations
   ============================================ */

/* 
  NOTE: Do NOT set background-color on .card__content or .card__information
  Dawn has two .card__content elements - one overlays the image.
  Setting a background covers the product image.
*/

/* Product grid spacing adjustments */
.product-grid .grid__item .card__information {
  padding: 0.3rem;
}

@media screen and (min-width: 750px) {
  .product-grid .grid__item .card__information {
    padding: 0.5rem;
  }
}

/* Featured product grid - custom column gap */
@media screen and (min-width: 750px) {
  .grid.featured-product-grid {
    column-gap: 0;
    row-gap: var(--grid-desktop-vertical-spacing);
  }
}

/* Featured product grid item padding */
.featured-product-grid .grid__item {
  padding: var(--grid-desktop-vertical-spacing);
}

/* MARK: - Header Enhancements */

/* ============================================
   7. Header Enhancements
   
   Non-invasive header improvements that work with
   Dawn 15.4.1's default header structure.
   ============================================ */

/* Header icon hover enhancement */
.header__icon:hover .icon {
  transform: scale(1.07);
  transition: transform 0.2s ease;
}

/* Cart icon accent color */
.header__icon--cart .icon {
  fill: rgb(var(--color-button));
}

/* Header link styling */
.header__heading-link:hover .h2,
.header__heading-link:hover {
  color: rgb(var(--color-foreground));
}

.header__heading-link .h2 {
  line-height: 1;
  color: rgba(var(--color-foreground), 0.75);
  transition: color 0.2s ease;
}

/* Hide country/language selector in mobile menu drawer
   This overrides Dawn's default behavior which shows the selector
   regardless of the header section settings. To show the selector,
   remove or comment out this rule. */
.menu-drawer__localization {
  display: none;
}

/* MARK: - Slider & Carousel Fixes */

/* ============================================
   8. Slider & Carousel Fixes
   ============================================ */

/* Fix slider button positioning */
.slider-component-desktop .slider-button {
  top: calc(50% - var(--grid-desktop-vertical-spacing, 0px));
}

/* Ensure slider buttons are visible above content */
.slider-buttons {
  z-index: 2;
}

/* Announcement bar z-index fix */
.announcement-bar {
  z-index: 5;
}

/* Sticky header positioning */
.shopify-section-header-sticky {
  z-index: 1000;
}

/* Slideshow text wrapper - hide on mobile if needed */
@media screen and (max-width: 749px) {
  .slideshow--mobile-text-hide .slideshow__text-wrapper {
    display: none;
  }
}

/* MARK: - Footer Customizations */

/* ============================================
   9. Footer Customizations
   ============================================ */

/* Ensure footer images are responsive */
.footer img {
  width: 100%;
  max-width: 100%;
  height: auto;
}

/* MARK: - Component-Specific Overrides */

/* ============================================
   10. Component-Specific Overrides
   ============================================ */

/* Back in Stock / Notify Me button reset */
.bis-reset {
  display: none;
}

/* Modal close button hover */
.modal__close-button:hover .icon {
  transform: scale(1.07);
}

/* Quick add button enhancements */
.quick-add__submit {
  transition:
    background-color 0.2s ease,
    transform 0.1s ease;
}

.quick-add__submit:active {
  transform: scale(0.98);
}

/* Price display enhancements */
.price--on-sale .price-item--regular {
  opacity: 0.7;
}

/* Badge positioning refinements */
.card__badge {
  z-index: 1;
}

/* Share button - inherit theme fonts */
.share-button__button {
  font-family: var(--font-body-family);
  font-style: var(--font-body-style);
  font-weight: var(--font-body-weight);
}

.share-button__fallback .field__input {
  font-family: var(--font-body-family);
  font-style: var(--font-body-style);
}

.share-button__fallback .field__label {
  font-family: var(--font-body-family);
}

/* Custom Dromgoole's Share Component */
.dromgooles-share {
  display: block;
  position: relative;
}

.dromgooles-share__button {
  display: inline-flex;
  align-items: center;
  gap: 0.8rem;
  padding: 0;
  margin: 0;
  background: transparent;
  border: none;
  cursor: pointer;
  font-family: var(--font-body-family);
  font-style: var(--font-body-style);
  font-weight: var(--font-body-weight);
  font-size: var(--dromgooles-share-text-size, 1.4rem);
  color: var(--dromgooles-share-text-color, rgb(var(--color-foreground)));
  text-decoration: none;
  text-transform: var(--dromgooles-share-text-transform, none);
  letter-spacing: var(--dromgooles-share-letter-spacing, normal);
  min-height: 4.4rem;
  list-style: none; /* Remove marker from summary */
}

.dromgooles-share__button:hover {
  text-decoration: underline;
  text-underline-offset: 0.3rem;
}

.dromgooles-share__button::-webkit-details-marker {
  display: none;
}

.dromgooles-share__icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: var(--dromgooles-share-icon-size, 1.6rem);
  height: var(--dromgooles-share-icon-size, 1.6rem);
  flex-shrink: 0;
}

.dromgooles-share__icon svg {
  width: 100%;
  height: 100%;
}

.dromgooles-share__icon img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.dromgooles-share__label {
  white-space: nowrap;
}

.dromgooles-share__details {
  width: fit-content;
}

.dromgooles-share__dropdown {
  position: absolute;
  top: calc(100% + 0.5rem);
  left: 0;
  z-index: 3;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.8rem;
  background: rgb(var(--color-background));
  border-radius: var(--inputs-radius);
  box-shadow:
    0 0 0 var(--inputs-border-width) rgba(var(--color-foreground), var(--inputs-border-opacity)),
    0 4px 12px rgba(var(--color-shadow), 0.15);
  animation: dromgoolesShareFadeIn 0.2s ease;
}

@keyframes dromgoolesShareFadeIn {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.dromgooles-share__field {
  display: flex;
  align-items: center;
}

.dromgooles-share__input {
  width: 20rem;
  max-width: 50vw;
  padding: 0.8rem 1rem;
  font-family: var(--font-body-family);
  font-size: 1.3rem;
  color: rgb(var(--color-foreground));
  background: rgb(var(--color-background));
  border: 1px solid rgba(var(--color-foreground), 0.2);
  border-radius: var(--inputs-radius) 0 0 var(--inputs-radius);
  outline: none;
}

.dromgooles-share__input:focus {
  border-color: rgb(var(--color-foreground));
}

.dromgooles-share__copy {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 4rem;
  height: 3.6rem;
  padding: 0;
  background: rgba(var(--color-foreground), 0.05);
  border: 1px solid rgba(var(--color-foreground), 0.2);
  border-left: none;
  border-radius: 0 var(--inputs-radius) var(--inputs-radius) 0;
  cursor: pointer;
  color: rgb(var(--color-foreground));
  transition: background-color 0.15s ease;
}

.dromgooles-share__copy:hover {
  background: rgba(var(--color-foreground), 0.1);
}

.dromgooles-share__copy svg {
  width: 1.6rem;
  height: 1.6rem;
}

.dromgooles-share__message {
  position: absolute;
  top: calc(100% + 0.5rem);
  left: 0;
  font-size: 1.2rem;
  color: rgb(var(--color-foreground));
  white-space: nowrap;
}

/* MARK: - Responsive Adjustments */

/* ============================================
   11. Responsive Adjustments
   ============================================ */

/* Mobile-specific adjustments */
@media screen and (max-width: 749px) {
  /* Reduce section padding on mobile */
  .section-padding {
    padding-top: calc(var(--padding-top) * 0.75);
    padding-bottom: calc(var(--padding-bottom) * 0.75);
  }

  /* Stack flex items on mobile */
  .mobile-stack {
    flex-direction: column !important;
  }

  /* Full width on mobile */
  .mobile-full-width {
    width: 100% !important;
    max-width: 100% !important;
  }
}

/* Tablet-specific adjustments */
@media screen and (min-width: 750px) and (max-width: 989px) {
  /* Tablet stack utility */
  .tablet-stack {
    flex-direction: column !important;
  }
}

/* Large screen enhancements */
@media screen and (min-width: 990px) {
  /* Ensure logo displays at proper size */
  .header__heading-logo {
    max-width: 300px;
  }
}

/* ============================================
   Print Styles
   ============================================ */

@media print {
  /* Hide non-essential elements when printing */
  .header__icons,
  .footer,
  .announcement-bar,
  .slider-buttons {
    display: none !important;
  }

  /* Ensure content is visible */
  .card__content,
  .product__info-container {
    background-color: white !important;
    color: black !important;
  }
}

/* MARK: - Custom Product Page Placeholder Gallery */

/* ============================================
   12. Custom Product Page Placeholder Gallery
   
   Styles for the dromgooles-product-media-gallery
   snippet placeholder image display.
   ============================================ */

.dromgooles-placeholder-gallery {
  width: 100%;
}

.dromgooles-placeholder-media {
  position: relative;
  width: 100%;
  aspect-ratio: 1 / 1;
  border-radius: var(--media-radius);
  border: 0.1rem solid rgba(var(--color-foreground), 0.04);
  overflow: hidden;
}

.dromgooles-placeholder-image {
  width: 100%;
  height: 100%;
  object-fit: contain;
  object-position: center;
}

/* MARK: - Third-Party App Overrides */

/* ============================================
   13. Third-Party App Overrides
   
   CSS fixes for third-party Shopify app integrations.
   ============================================ */

/* Hide Easify Product Options on collection/grid pages
   - Easify injects product option selectors (color swatches, buttons, etc.)
   - These should only appear on product pages, not in collection listings
   - Classes prefixed with tpo_ are from Easify's "Third Party Options"
   - Use body template class to ensure we only target collection pages */
body.template-collection .tpo_option-set-wrapper.tpo_in-card,
body.template-search .tpo_option-set-wrapper.tpo_in-card,
.collection-product-list .tpo_option-set-wrapper.tpo_in-card,
#product-grid .tpo_option-set-wrapper.tpo_in-card {
  display: none !important;
}

/* MARK: - Product Slideshow Layout */

/* ============================================
   14. Product Slideshow Layout
   
   Slideshow-style gallery for product pages.
   Shows one image at a time with prev/next controls
   and a counter (like mobile view, but on all screens).
   Uses horizontal scroll with snap points like mobile.
   ============================================ */

/* Show slider buttons on all screens for slideshow layout */
@media screen and (min-width: 750px) {
  /* Make slider-component a positioning context for the arrow buttons */
  .product--slideshow slider-component {
    position: relative;
  }

  /* Override Dawn's base CSS that hides slider buttons on desktop */
  .product--slideshow .slider-buttons {
    display: flex !important;
    justify-content: center;
    align-items: center;
    margin-top: 1rem;
    gap: 1rem;
  }

  /* Position arrow buttons on top of the image, vertically centered */
  .product--slideshow .slider-button {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 2;
    display: flex !important;
    visibility: visible !important;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    width: 44px;
    height: 44px;
    background: rgba(var(--color-background), 0.9);
    border: none;
    border-radius: 50%;
    color: rgba(var(--color-foreground), 0.75);
    box-shadow:
      0 2px 8px rgba(0, 0, 0, 0.25),
      0 1px 3px rgba(0, 0, 0, 0.15);
    transition:
      background-color 0.2s,
      color 0.2s;
  }

  .product--slideshow .slider-button--prev {
    left: 1rem;
  }

  .product--slideshow .slider-button--next {
    right: 1rem;
  }

  .product--slideshow .slider-button:hover {
    background: rgba(var(--color-background), 1);
    color: rgb(var(--color-foreground));
  }

  .product--slideshow .slider-button:disabled {
    opacity: 0.3;
    cursor: not-allowed;
  }

  /* Icon sizing inside buttons */
  .product--slideshow .slider-button .icon {
    width: 1rem;
    height: 0.6rem;
  }

  /* Keep counter centered below the image */
  .product--slideshow .slider-counter {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    min-width: 4rem;
    justify-content: center;
  }

  /* Force horizontal scroll layout like mobile - each slide takes full width */
  .product--slideshow .product__media-list.slider--mobile {
    display: flex !important;
    flex-wrap: nowrap;
    overflow-x: auto;
    overflow-y: hidden;
    scroll-behavior: smooth;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
    gap: 0;
    padding-bottom: calc(var(--media-shadow-vertical-offset) * var(--media-shadow-visible));
  }

  /* Each slide should take 100% width and snap into place */
  .product--slideshow .product__media-list .product__media-item {
    min-width: 100% !important;
    width: 100%;
    flex: 0 0 100%;
    scroll-snap-align: start;
  }

  /* Hide scrollbar for clean look */
  .product--slideshow .product__media-list.slider--mobile::-webkit-scrollbar {
    display: none;
  }

  .product--slideshow .product__media-list.slider--mobile {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* Ensure the active item modal opener works correctly */
  .product--slideshow .is-active .product__modal-opener:not(.product__modal-opener--image) {
    pointer-events: none;
  }

  .product--slideshow .is-active .deferred-media {
    pointer-events: auto;
  }

  /* Match shadow style on the zoom/magnifying glass button */
  .product--slideshow .product__media-icon {
    box-shadow:
      0 2px 8px rgba(0, 0, 0, 0.25),
      0 1px 3px rgba(0, 0, 0, 0.15);
  }
}
